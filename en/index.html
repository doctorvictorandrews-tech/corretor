<!DOCTYPE html>
<html lang="en-AU">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    
    <title>Liam Thompson | Premium Real Estate Intelligence</title>
    <meta name="description" content="Real estate portal with smart search, mortgage simulation, and specialized advisory.">
    
    <meta name="keywords" content="real estate, apartments, houses, broker, melbourne, for sale, rent, luxury">
    <meta name="author" content="Liam Thompson">
    <meta property="og:title" content="Liam Thompson - Premium Real Estate Intelligence">
    <meta property="og:description" content="Data-driven advisory for your best property deal">
    <meta property="og:type" content="website">
    
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üè¢</text></svg>">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&family=Playfair+Display:ital,wght@0,600;1,600&display=swap" rel="stylesheet">
    
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    
    <style>
        /* ========================================================================
           DESIGN SYSTEM: "ULTIMATE PORTAL ENGINE v12 (Enhanced Edition)"
           (Kept exactly as original)
        ======================================================================== */
        :root {
            --primary: #0F172A;       
            --accent: #2563EB;        
            --accent-hover: #1D4ED8;
            --accent-soft: #F0F7FF;
            --secondary: #F59E0B;     
            --success: #10B981;
            --border-color: #E2E8F0;
            --bg-body: #F8FAFC;
            --bg-card: #FFFFFF;
            --text-main: #1E293B;
            --text-muted: #64748B;
            --text-light: #94A3B8;
            --radius-sm: 8px;
            --radius-md: 16px;
            --radius-lg: 40px;
            --transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.1);
            --shadow-lg: 0 25px 50px -12px rgba(0, 0, 0, 0.08);
        }

        /* 1. BASE */
        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; outline: none; }
        html { scroll-behavior: smooth; overflow-x: hidden; }
        body { background-color: var(--bg-body); color: var(--text-main); font-family: 'Plus Jakarta Sans', sans-serif; line-height: 1.6; overflow-x: hidden; -webkit-font-smoothing: antialiased; }
        
        .container { width: 92%; max-width: 1280px; margin: 0 auto; position: relative; }
        .section-pad { padding: 120px 0; }
        .reveal { opacity: 0; transform: translateY(40px); transition: 1s var(--transition); }
        .reveal.active { opacity: 1; transform: translateY(0); }

        h1, h2, h3, h4 { color: var(--primary); font-weight: 800; line-height: 1.1; }
        h1 { font-size: clamp(40px, 6vw, 72px); letter-spacing: -3px; }
        h2 { font-size: clamp(32px, 4vw, 48px); letter-spacing: -2px; font-family: 'Playfair Display', serif; font-weight: 600; }
        
        .badge { display: inline-flex; align-items: center; padding: 6px 14px; border-radius: 8px; font-size: 11px; font-weight: 800; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 25px; border: 1px solid transparent; }
        .badge-accent { background: var(--accent-soft); color: var(--accent); border-color: rgba(37, 99, 235, 0.1); }

        /* 2. BUTTONS */
        .btn { display: inline-flex; align-items: center; justify-content: center; gap: 12px; padding: 18px 40px; background: var(--accent); color: white; border: none; border-radius: 12px; font-weight: 700; font-size: 15px; cursor: pointer; transition: var(--transition); text-decoration: none; position: relative; overflow: hidden; }
        .btn:hover { background: var(--primary); transform: scale(1.02); box-shadow: var(--shadow-lg); }
        .btn-outline { background: white; color: var(--primary); border: 2px solid var(--primary); }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }
        
        /* Loading Spinner */
        .btn.loading::after {
            content: '';
            position: absolute;
            width: 16px;
            height: 16px;
            border: 2px solid white;
            border-top-color: transparent;
            border-radius: 50%;
            animation: spin 0.6s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* 3. HEADER */
        header { position: fixed; top: 0; width: 100%; z-index: 2000; padding: 30px 0; transition: var(--transition); background: transparent; }
        header.scrolled { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(20px); padding: 15px 0; border-bottom: 1px solid var(--border-color); }
        .nav-content { display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 24px; font-weight: 900; color: var(--primary); text-decoration: none; display: flex; align-items: center; gap: 8px; }
        .logo i { color: var(--accent); }
        .nav-links { display: flex; gap: 40px; align-items: center; }
        .nav-link { font-weight: 700; font-size: 14px; color: var(--primary); opacity: 0.7; text-decoration: none; transition: 0.3s; }
        .nav-link:hover { opacity: 1; color: var(--accent); }
        .mobile-toggle { display: none; font-size: 32px; cursor: pointer; color: var(--primary); }

        /* 4. HERO */
        .hero { padding: 220px 0 140px; background: #fff; position: relative; overflow: hidden; }
        .hero-grid { display: grid; grid-template-columns: 1.2fr 0.8fr; gap: 60px; align-items: center; }
        .hero-title h1 span { color: var(--accent); font-style: italic; font-family: 'Playfair Display', serif; font-weight: 600; }
        
        .hero-image-area { position: relative; }
        .hero-image-area img { width: 100%; border-radius: var(--radius-lg); box-shadow: var(--shadow-lg); transform: perspective(1000px) rotateY(-5deg); transition: 1s; }
        .hero-image-area:hover img { transform: perspective(1000px) rotateY(0deg); }

        /* 5. SEARCH SYSTEM (ENHANCED) */
        .search-engine { background: white; border-radius: var(--radius-md); padding: 40px; box-shadow: var(--shadow-lg); margin-top: -80px; z-index: 100; border: 1px solid var(--border-color); position: relative; }
        .search-tabs { display: flex; gap: 30px; margin-bottom: 30px; }
        .search-tab { cursor: pointer; font-weight: 800; color: var(--text-light); font-size: 14px; text-transform: uppercase; letter-spacing: 1px; transition: 0.3s; padding-bottom: 5px; border-bottom: 2px solid transparent; }
        .search-tab.active { color: var(--accent); border-bottom-color: var(--accent); }
        .search-form { display: grid; grid-template-columns: 2.5fr 1.2fr 1.2fr 1fr; gap: 20px; margin-bottom: 25px; }
        .input-group label { font-size: 11px; font-weight: 800; color: var(--text-main); text-transform: uppercase; margin-bottom: 10px; display: block; }
        .input-group input, .input-group select { width: 100%; padding: 0 20px; height: 55px; border: 1.5px solid var(--border-color); border-radius: 12px; font-family: inherit; font-size: 15px; background: var(--bg-body); transition: 0.3s; }
        .input-group input:focus, .input-group select:focus { border-color: var(--accent); background: white; }

        /* Advanced Filters */
        .advanced-filters {
            display: none;
            padding-top: 25px;
            border-top: 1px solid var(--border-color);
            margin-top: 25px;
            animation: slideDown 0.3s ease;
        }
        
        .advanced-filters.active { display: block; }
        
        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .filter-toggle {
            text-align: center;
            margin-top: 20px;
        }
        
        .filter-toggle-btn {
            background: none;
            border: none;
            color: var(--accent);
            font-weight: 700;
            font-size: 14px;
            cursor: pointer;
            padding: 10px 20px;
            border-radius: 8px;
            transition: 0.3s;
        }
        
        .filter-toggle-btn:hover {
            background: var(--accent-soft);
        }

        .price-range-container {
            margin-top: 20px;
        }
        
        .price-range-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 15px;
        }
        
        .price-slider {
            width: 100%;
            height: 6px;
            background: var(--border-color);
            border-radius: 5px;
            outline: none;
            margin-top: 10px;
        }

        /* 6. LISTING (EDITORIAL PORTAL) - ENHANCED */
        .listing-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 50px; flex-wrap: wrap; gap: 20px; }
        
        /* Quick Filters */
        .quick-filters {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            margin-bottom: 30px;
        }
        
        .quick-filter-btn {
            padding: 10px 20px;
            background: white;
            border: 1.5px solid var(--border-color);
            border-radius: 8px;
            font-size: 13px;
            font-weight: 700;
            cursor: pointer;
            transition: 0.3s;
            color: var(--text-main);
        }
        
        .quick-filter-btn:hover, .quick-filter-btn.active {
            border-color: var(--accent);
            background: var(--accent-soft);
            color: var(--accent);
        }
        
        /* Compare Bar */
        .compare-bar {
            position: fixed;
            bottom: -100px;
            left: 0;
            right: 0;
            background: var(--primary);
            color: white;
            padding: 20px 0;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.1);
            z-index: 1500;
            transition: bottom 0.4s ease;
        }
        
        .compare-bar.active {
            bottom: 0;
        }
        
        .compare-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .compare-items {
            display: flex;
            gap: 20px;
        }
        
        .compare-item {
            padding: 10px 20px;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            font-size: 14px;
        }
        
        #properties-list { display: flex; flex-direction: column; gap: 35px; position: relative; }
        
        /* Loading Skeleton */
        .skeleton-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            animation: pulse 1.5s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .portal-card { 
            display: grid; grid-template-columns: 420px 1fr; 
            background: white; border-radius: 20px; overflow: hidden; 
            transition: var(--transition); border: 1px solid #f1f1f1;
            position: relative;
        }
        .portal-card:hover { transform: scale(1.01); border-color: var(--accent); box-shadow: var(--shadow-lg); }
        
        /* Favorite Button */
        .favorite-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 45px;
            height: 45px;
            background: white;
            border: none;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: 0.3s;
        }
        
        .favorite-btn:hover {
            transform: scale(1.1);
        }
        
        .favorite-btn i {
            font-size: 24px;
            color: var(--text-muted);
            transition: 0.3s;
        }
        
        .favorite-btn.active i {
            color: #EF4444;
        }
        
        /* Compare Checkbox */
        .compare-checkbox {
            position: absolute;
            top: 70px;
            left: 20px;
            z-index: 10;
            background: white;
            padding: 5px;
            border-radius: 6px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        }
        
        .compare-checkbox input[type="checkbox"] {
            width: 24px;
            height: 24px;
            cursor: pointer;
            accent-color: var(--accent);
        }
        
        .compare-checkbox label {
            display: flex;
            align-items: center;
            gap: 8px;
            background: white;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 11px;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .portal-img-area { position: relative; height: 280px; min-height: 280px; overflow: hidden; cursor: pointer; }
        .portal-img-area img { width: 100%; height: 100%; object-fit: cover; object-position: center; transition: 1.2s; }
        .portal-card:hover .portal-img-area img { transform: scale(1.1); }
        .portal-badge { position: absolute; top: 20px; left: 20px; background: var(--primary); color: white; padding: 6px 12px; border-radius: 6px; font-size: 10px; font-weight: 800; z-index: 10; }

        .portal-info { padding: 35px 45px; display: flex; flex-direction: column; justify-content: space-between; }
        .portal-address { font-size: 14px; color: var(--text-muted); margin-bottom: 10px; display: flex; align-items: center; gap: 8px; }
        .portal-title { font-size: 24px; font-weight: 800; color: var(--primary); margin-bottom: 20px; letter-spacing: -0.5px; }
        
        .portal-stats { display: flex; gap: 35px; margin-bottom: 30px; flex-wrap: wrap; }
        .stat-item { display: flex; align-items: center; gap: 10px; font-size: 15px; font-weight: 600; color: var(--text-main); }
        .stat-item i { font-size: 24px; color: var(--accent); opacity: 0.6; }
        
        .portal-footer { display: flex; justify-content: space-between; align-items: center; border-top: 1px solid #f1f5f9; padding-top: 25px; }
        .price-label { font-size: 32px; font-weight: 800; color: var(--primary); letter-spacing: -1px; }

        /* Image Gallery Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 3000;
            align-items: center;
            justify-content: center;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            max-width: 90%;
            max-height: 90%;
            position: relative;
        }
        
        .modal-image {
            max-width: 100%;
            max-height: 80vh;
            border-radius: 12px;
        }
        
        .modal-close {
            position: absolute;
            top: -50px;
            right: 0;
            background: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .modal-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .modal-prev { left: 20px; }
        .modal-next { right: 20px; }
        
        .modal-thumbnails {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            justify-content: center;
        }
        
        .modal-thumb {
            width: 80px;
            height: 60px;
            object-fit: cover;
            border-radius: 8px;
            cursor: pointer;
            opacity: 0.5;
            transition: 0.3s;
            border: 2px solid transparent;
        }
        
        .modal-thumb.active, .modal-thumb:hover {
            opacity: 1;
            border-color: var(--accent);
        }

        /* Contact Modal */
        .contact-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 3000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .contact-modal.active {
            display: flex;
        }
        
        .contact-modal-content {
            background: white;
            border-radius: 24px;
            padding: 50px;
            max-width: 600px;
            width: 100%;
            position: relative;
        }
        
        .contact-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-top: 30px;
        }
        
        .contact-form input,
        .contact-form textarea {
            width: 100%;
            padding: 15px 20px;
            border: 1.5px solid var(--border-color);
            border-radius: 12px;
            font-family: inherit;
            font-size: 15px;
            transition: 0.3s;
        }
        
        .contact-form input:focus,
        .contact-form textarea:focus {
            border-color: var(--accent);
            outline: none;
        }
        
        .contact-form textarea {
            resize: vertical;
            min-height: 120px;
        }

        /* 7. METHODOLOGY */
        .meto-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 25px; margin-top: 80px; }
        .meto-card { background: white; padding: 50px 35px; border-radius: 24px; text-align: center; border: 1px solid var(--border-color); transition: 0.4s; }
        .meto-card:hover { background: var(--primary); color: white; transform: translateY(-5px); }
        .meto-icon { width: 70px; height: 70px; background: var(--accent-soft); border-radius: 20px; display: flex; align-items: center; justify-content: center; margin: 0 auto 30px; font-size: 32px; color: var(--accent); }
        .meto-card:hover .meto-icon { background: rgba(255,255,255,0.1); color: white; }
        .meto-card p { font-size: 14px; transition: 0.3s; }
        .meto-card:hover p { color: rgba(255,255,255,0.6); }

        /* 8. ABOUT ME */
        .about-section { background: #fff; overflow: hidden; }
        .about-grid { display: grid; grid-template-columns: 1fr 1.2fr; gap: 100px; align-items: center; }
        .about-img-box { position: relative; }
        .about-img-box img { width: 100%; border-radius: var(--radius-lg); position: relative; z-index: 2; }
        .about-img-box::before { content: ''; position: absolute; top: -30px; left: -30px; width: 100%; height: 100%; border: 2px solid var(--accent); border-radius: var(--radius-lg); z-index: 1; }
        
        .stat-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 50px; }
        .stat-card { padding: 30px; background: var(--bg-body); border-radius: 16px; border-left: 5px solid var(--accent); }
        .stat-card strong { font-size: 32px; display: block; color: var(--primary); }
        .stat-card span { font-size: 12px; font-weight: 800; color: var(--text-light); text-transform: uppercase; }

        /* 9. FAQ (EXPANDED) */
        .faq-grid { max-width: 900px; margin: 80px auto 0; }
        .faq-card { background: white; border-radius: 20px; border: 1px solid var(--border-color); margin-bottom: 15px; transition: var(--transition); }
        .faq-header { padding: 25px 35px; width: 100%; display: flex; justify-content: space-between; align-items: center; cursor: pointer; background: none; border: none; font-family: inherit; font-size: 18px; font-weight: 700; text-align: left; color: var(--text-main); }
        .faq-body { padding: 0 35px; max-height: 0; overflow: hidden; transition: 0.5s; color: var(--text-muted); font-size: 15px; }
        .faq-card.active { border-color: var(--accent); box-shadow: var(--shadow-sm); }
        .faq-card.active .faq-body { padding-bottom: 30px; max-height: 400px; }
        .faq-icon { width: 30px; height: 30px; border-radius: 50%; background: var(--bg-body); display: flex; align-items: center; justify-content: center; transition: 0.4s; }
        .faq-card.active .faq-icon { background: var(--accent); color: white; transform: rotate(180deg); }

        /* 10. SIMULATOR */
        .simulator { background: var(--primary); border-radius: 40px; padding: 80px; color: white; margin-top: 100px; position: relative; overflow: hidden; }
        .sim-grid { display: grid; grid-template-columns: 1.2fr 0.8fr; gap: 80px; align-items: center; }
        .sim-box { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08); padding: 50px; border-radius: 24px; backdrop-filter: blur(10px); }
        .sim-box input { width: 100%; background: none; border: none; border-bottom: 2px solid #334155; padding: 15px 0; color: white; font-size: 24px; font-weight: 700; margin-bottom: 30px; }
        .sim-box input:focus { border-color: var(--accent); }
        .sim-res-val { font-size: 56px; font-weight: 900; color: var(--accent); margin-top: 10px; letter-spacing: -2px; }

        /* 11. FOOTER */
        footer { background: #020617; color: white; padding: 120px 0 50px; }
        .footer-main { display: grid; grid-template-columns: 2fr 1fr 1fr 1.5fr; gap: 80px; padding-bottom: 80px; border-bottom: 1px solid rgba(255,255,255,0.05); }
        .footer-logo { font-size: 28px; font-weight: 900; margin-bottom: 30px; display: block; color: white; text-decoration: none; }
        .footer-col h4 { color: white; font-size: 15px; text-transform: uppercase; letter-spacing: 2px; margin-bottom: 35px; }
        .footer-links { list-style: none; }
        .footer-links li { margin-bottom: 18px; }
        .footer-links a { color: rgba(255,255,255,0.5); font-size: 15px; transition: 0.3s; text-decoration: none; }
        .footer-links a:hover { color: var(--accent); padding-left: 10px; }
        
        .social-row { display: flex; gap: 15px; margin-top: 40px; }
        .social-item { width: 45px; height: 45px; border-radius: 12px; background: rgba(255,255,255,0.05); display: flex; align-items: center; justify-content: center; font-size: 22px; color: white; transition: 0.4s; border: 1px solid rgba(255,255,255,0.1); text-decoration: none; }
        .social-item:hover { background: var(--accent); transform: translateY(-5px); border-color: var(--accent); }

        .footer-bottom { padding-top: 50px; display: flex; justify-content: space-between; align-items: center; color: rgba(255,255,255,0.3); font-size: 13px; }

        /* 12. WHATSAPP & MOBILE ELEMENTS */
        .whatsapp-float { position: fixed; bottom: 40px; right: 40px; width: 70px; height: 70px; background: #25D366; color: white; border-radius: 20px; display: flex; align-items: center; justify-content: center; font-size: 40px; z-index: 3000; box-shadow: 0 15px 30px rgba(37, 211, 102, 0.3); transition: 0.4s; text-decoration: none; }
        .whatsapp-float:hover { transform: scale(1.1) rotate(5deg); }

        /* Scroll to Top Button */
        .scroll-top {
            position: fixed;
            bottom: 130px;
            right: 40px;
            width: 50px;
            height: 50px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            opacity: 0;
            pointer-events: none;
            transition: 0.3s;
            z-index: 2999;
        }
        
        .scroll-top.visible {
            opacity: 1;
            pointer-events: all;
        }
        
        .scroll-top:hover {
            background: var(--accent);
            transform: translateY(-5px);
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--primary);
            color: white;
            padding: 15px 30px;
            border-radius: 12px;
            box-shadow: var(--shadow-lg);
            z-index: 4000;
            transition: transform 0.3s ease;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .toast.show {
            transform: translateX(-50%) translateY(0);
        }
        
        .toast.success {
            background: var(--success);
        }

        /* ========================================================================
           RESPONSIVENESS AND MOBILE FIXES
        ======================================================================== */
        @media (max-width: 991px) {
            /* General Layout */
            .hero-grid, .about-grid, .meto-grid, .sim-grid, .footer-main { grid-template-columns: 1fr; }
            .search-form { grid-template-columns: 1fr; }
            .hero { padding-top: 140px; text-align: center; }
            .hero-image-area { order: -1; margin-bottom: 50px; }
            
            /* Mobile Menu */
            .mobile-toggle { display: block; }
            .nav-links { 
                position: absolute; 
                top: 80px; 
                left: 0; 
                width: 100%; 
                background: white; 
                flex-direction: column; 
                padding: 40px; 
                box-shadow: 0 20px 40px rgba(0,0,0,0.1); 
                gap: 25px; 
                opacity: 0; 
                pointer-events: none; 
                transform: translateY(-20px); 
                transition: 0.4s;
            }
            .nav-links.active { 
                opacity: 1; 
                pointer-events: all; 
                transform: translateY(0); 
            }
            .simulator { padding: 40px 20px; }
            .about-img-box::before { display: none; }
            
            /* PROPERTY CARD FIXES */
            .portal-card { 
                grid-template-columns: 1fr;
            }
            .portal-info {
                padding: 25px 20px;
            }
            .portal-img-area {
                min-height: 220px;
            }
            .portal-stats {
                gap: 15px;
            }
            
            .portal-footer {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            .portal-footer > div {
                display: flex;
                flex-direction: column;
                gap: 5px;
            }
            .price-label {
                font-size: 28px;
            }
            .portal-footer .btn-outline {
                width: 100%;
                justify-content: center;
                margin-top: 10px;
            }
            
            /* Mobile Adjustments */
            .whatsapp-float {
                bottom: 20px;
                right: 20px;
                width: 60px;
                height: 60px;
                font-size: 32px;
            }
            
            .scroll-top {
                bottom: 90px;
                right: 20px;
            }
            
            .compare-bar {
                padding: 15px 0;
            }
            
            .compare-content {
                flex-direction: column;
                gap: 15px;
            }
            
            .contact-modal-content {
                padding: 30px 20px;
            }
            
            .quick-filters {
                justify-content: center;
            }
        }
    </style>
</head>
<body>

    <a href="https://wa.me/61499999999" class="whatsapp-float" target="_blank" aria-label="WhatsApp Contact">
        <i class="ph-fill ph-whatsapp-logo"></i>
    </a>

    <button class="scroll-top" onclick="engine.scrollToTop()" aria-label="Back to top">
        <i class="ph-bold ph-arrow-up"></i>
    </button>

    <div class="compare-bar" id="compare-bar">
        <div class="container compare-content">
            <div>
                <strong id="compare-count">0</strong> properties selected for comparison
            </div>
            <div style="display: flex; gap: 15px;">
                <button class="btn" onclick="engine.compareProperties()">
                    <i class="ph ph-git-compare"></i> Compare Now
                </button>
                <button class="btn btn-outline" onclick="engine.clearCompare()">
                    Clear
                </button>
            </div>
        </div>
    </div>

    <div class="modal" id="gallery-modal">
        <div class="modal-content">
            <button class="modal-close" onclick="engine.closeGallery()">
                <i class="ph-bold ph-x"></i>
            </button>
            <button class="modal-nav modal-prev" onclick="engine.prevImage()">
                <i class="ph-bold ph-caret-left"></i>
            </button>
            <img src="" alt="Gallery" class="modal-image" id="modal-image">
            <button class="modal-nav modal-next" onclick="engine.nextImage()">
                <i class="ph-bold ph-caret-right"></i>
            </button>
            <div class="modal-thumbnails" id="modal-thumbnails"></div>
        </div>
    </div>

    <div class="contact-modal" id="contact-modal">
        <div class="contact-modal-content">
            <button class="modal-close" onclick="engine.closeContactModal()" style="top: 20px; right: 20px;">
                <i class="ph-bold ph-x"></i>
            </button>
            <h2>Get in Touch</h2>
            <p style="color: var(--text-muted); margin-top: 10px;">Fill out the form and we will contact you within 2 business hours.</p>
            <form class="contact-form" onsubmit="engine.submitContact(event)">
                <input type="text" placeholder="Your Full Name" required>
                <input type="email" placeholder="Your E-mail" required>
                <input type="tel" placeholder="Your Phone Number" required>
                <input type="text" placeholder="Property of Interest" id="property-interest" readonly>
                <textarea placeholder="Your Message (optional)"></textarea>
                <button type="submit" class="btn" style="width: 100%;">
                    <i class="ph ph-paper-plane-tilt"></i> Send Message
                </button>
            </form>
        </div>
    </div>

    <div class="toast" id="toast">
        <i class="ph-fill ph-check-circle"></i>
        <span id="toast-message">Message</span>
    </div>

    <header id="navbar">
        <div class="container nav-content">
            <a href="#" class="logo"><i class="ph-fill ph-house-line"></i> Liam<span>Thompson</span></a>
            <nav class="nav-links">
                <a href="#imoveis" class="nav-link" onclick="toggleMenu()">Properties</a>
                <a href="#metodologia" class="nav-link" onclick="toggleMenu()">Process</a>
                <a href="#sobre" class="nav-link" onclick="toggleMenu()">Bio</a>
                <a href="#faq" class="nav-link" onclick="toggleMenu()">Help</a>
                <a href="javascript:engine.openContactModal()" class="btn">VIP Advisory</a>
            </nav>
            <div class="mobile-toggle" onclick="toggleMenu()"><i class="ph-bold ph-list"></i></div>
        </div>
    </header>

    <section class="hero">
        <div class="container hero-grid">
            <div class="hero-title reveal">
                <span class="badge badge-accent">Private Broker & Advisory</span>
                <h1>Architecting your next property <br><span>success</span>.</h1>
                <p>More than a property catalogue, a data-driven advisory to ensure the best deal of your life.</p>
                <div style="display: flex; gap: 20px; margin-top: 50px; flex-wrap: wrap; justify-content: center;">
                    <a href="#imoveis" class="btn">Explore Properties</a>
                    <a href="#simulador" class="btn btn-outline">Mortgage Simulator</a>
                </div>
            </div>
            <div class="hero-image-area reveal delay-1">
                <img src="../capa.jpg" alt="Luxury House" loading="lazy">
            </div>
        </div>
    </section>

    <div class="container">
        <div class="search-engine reveal">
            <div class="search-tabs">
                <div class="search-tab active" data-intent="venda">Buy Property</div>
                <div class="search-tab" data-intent="aluguel">Rent Property</div>
            </div>
            <div class="search-form">
                <div class="input-group">
                    <label>Location</label>
                    <input type="text" id="loc-input" placeholder="Suburb or Complex" oninput="engine.filter()">
                </div>
                <div class="input-group">
                    <label>Property Type</label>
                    <select id="type-input" onchange="engine.filter()">
                        <option value="todos">All types</option>
                        <option value="Apartamento">Apartment</option>
                        <option value="Casa">Luxury House</option>
                    </select>
                </div>
                <div class="input-group">
                    <label>Bedrooms</label>
                    <select id="beds-input" onchange="engine.filter()">
                        <option value="0">Any</option>
                        <option value="1">1+ Beds</option>
                        <option value="2">2+ Beds</option>
                        <option value="3">3+ Beds</option>
                    </select>
                </div>
                <button class="btn" onclick="engine.filter()"><i class="ph ph-magnifying-glass"></i> Search</button>
            </div>
            
            <div class="advanced-filters" id="advanced-filters">
                <div class="price-range-container">
                    <label style="font-size: 11px; font-weight: 800; color: var(--text-main); text-transform: uppercase;">Price Range (AUD)</label>
                    <div class="price-range-inputs">
                        <div class="input-group">
                            <input type="number" id="price-min" placeholder="Min Price" oninput="engine.filter()">
                        </div>
                        <div class="input-group">
                            <input type="number" id="price-max" placeholder="Max Price" oninput="engine.filter()">
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="filter-toggle">
                <button class="filter-toggle-btn" onclick="engine.toggleAdvancedFilters()">
                    <i class="ph ph-faders"></i> <span id="filter-toggle-text">Advanced Filters</span>
                </button>
            </div>
        </div>
    </div>

    <section id="imoveis" class="section-pad">
        <div class="container">
            <div class="listing-header reveal">
                <div>
                    <h2>Exclusive Curation</h2>
                    <p id="counter">Loading properties...</p>
                </div>
                <div class="input-group" style="width: 250px;">
                    <select id="sort-input" onchange="engine.sort()">
                        <option value="relevancia">Sort by: Relevance</option>
                        <option value="menor">Lowest Price</option>
                        <option value="maior">Highest Price</option>
                    </select>
                </div>
            </div>

            <div class="quick-filters reveal">
                <button class="quick-filter-btn active" onclick="engine.quickFilter('todos')">All</button>
                <button class="quick-filter-btn" onclick="engine.quickFilter('destaque')">Featured</button>
                <button class="quick-filter-btn" onclick="engine.quickFilter('luxo')">High End</button>
                <button class="quick-filter-btn" onclick="engine.quickFilter('novo')">New Launch</button>
            </div>

            <div id="properties-list" class="reveal">
                <div class="skeleton-card" style="height: 280px;"></div>
                <div class="skeleton-card" style="height: 280px;"></div>
            </div>
        </div>
    </section>

    <section id="metodologia" class="section-pad" style="background: #fff;">
        <div class="container">
            <div class="text-center reveal">
                <span class="badge badge-accent">Efficiency</span>
                <h2>Your frictionless journey</h2>
                <p style="max-width: 600px; margin: 0 auto;">We transform the complex real estate market into a linear, secure, and transparent process.</p>
            </div>

            <div class="meto-grid reveal">
                <div class="meto-card">
                    <div class="meto-icon"><i class="ph-bold ph-funnel"></i></div>
                    <h3>Curation</h3>
                    <p>Rigorous filter based on sqm value, liquidity, and appreciation potential.</p>
                </div>
                <div class="meto-card">
                    <div class="meto-icon"><i class="ph-bold ph-calendar-check"></i></div>
                    <h3>Advisory</h3>
                    <p>Guided technical visits with infrastructure and documentation analysis.</p>
                </div>
                <div class="meto-card">
                    <div class="meto-icon"><i class="ph-bold ph-shield-check"></i></div>
                    <h3>Security</h3>
                    <p>Total legal support in title search analysis and contract drafting.</p>
                </div>
                <div class="meto-card">
                    <div class="meto-icon"><i class="ph-bold ph-key"></i></div>
                    <h3>Result</h3>
                    <p>Full support until settlement and handover of keys.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="simulador" class="section-pad">
        <div class="container">
            <div class="simulator reveal">
                <div class="sim-grid">
                    <div>
                        <h2 style="color: white;">Mortgage <br>Simulator</h2>
                        <p style="color: rgba(255,255,255,0.6); margin: 30px 0 50px;">Get a real estimate based on current interest rates from major partner banks.</p>
                        <div class="sim-box">
                            <label style="font-size: 11px; font-weight: 800; opacity: 0.6;">PROPERTY VALUE (AUD)</label>
                            <input type="number" id="sim-val" value="750000" oninput="engine.simulate()">
                            <label style="font-size: 11px; font-weight: 800; opacity: 0.6;">DEPOSIT (MIN. 20%)</label>
                            <input type="number" id="sim-ent" value="150000" oninput="engine.simulate()">
                            <button class="btn" style="width: 100%;" onclick="engine.openContactModal('Approve Credit')">Get Pre-approved Now</button>
                        </div>
                    </div>
                    <div style="text-align: center;">
                        <p style="color: white; opacity: 0.7; font-size: 16px;">Approximate monthly repayment</p>
                        <div class="sim-res-val" id="sim-res">$ 5,750.00</div>
                        <p style="font-size: 12px; opacity: 0.4; margin-top: 30px;">*Calculation based on Standard Amortization for 30 years. Subject to bank approval.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="sobre" class="section-pad about-section">
        <div class="container">
            <div class="about-grid reveal">
                <div class="about-img-box">
                    <img src="../corretor.jpg" alt="Broker Liam" loading="lazy">
                </div>
                <div>
                    <span class="badge badge-accent">Strategic Advisor</span>
                    <h2 style="margin-top: 15px;">Liam Thompson</h2>
                    <p>Real estate specialist with over a decade of experience. My focus is on protecting my clients' wealth by identifying opportunities that the common market doesn't see.</p>
                    <p>My commitment is to absolute transparency and the agility that the modern world demands.</p>
                    <div class="stat-grid">
                        <div class="stat-card"><strong>+$ 1.5Bn</strong><span>Sales Volume</span></div>
                        <div class="stat-card"><strong>12 Years</strong><span>Of Experience</span></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="faq" class="section-pad">
        <div class="container">
            <div class="text-center reveal">
                <span class="badge badge-accent">FAQ</span>
                <h2>Information is power</h2>
                <p>Clarify fundamental questions before taking the next step.</p>
            </div>
            
            <div class="faq-grid reveal">
                <div class="faq-card" onclick="engine.toggleFaq(this)">
                    <button class="faq-header">How long does pre-approval take? <div class="faq-icon"><i class="ph ph-caret-down"></i></div></button>
                    <div class="faq-body"><p>We work with exclusive brokerages that ensure a pre-analysis return within 48 business hours from major banks (CBA, Westpac, ANZ, and NAB).</p></div>
                </div>
                <div class="faq-card" onclick="engine.toggleFaq(this)">
                    <button class="faq-header">Can I use Superannuation for the deposit? <div class="faq-icon"><i class="ph ph-caret-down"></i></div></button>
                    <div class="faq-body"><p>Generally, access to Super is restricted, but the First Home Super Saver (FHSS) scheme allows you to save money for your first home inside your super fund.</p></div>
                </div>
                <div class="faq-card" onclick="engine.toggleFaq(this)">
                    <button class="faq-header">What are the stamp duty and fees? <div class="faq-icon"><i class="ph ph-caret-down"></i></div></button>
                    <div class="faq-body"><p>Generally, the buyer should reserve around 5% of the total property value for Stamp Duty and Conveyancing fees, depending on the state.</p></div>
                </div>
                <div class="faq-card" onclick="engine.toggleFaq(this)">
                    <button class="faq-header">What is "Due Diligence"? <div class="faq-icon"><i class="ph ph-caret-down"></i></div></button>
                    <div class="faq-body"><p>It is a deep investigation of the Section 32 (Vendor's Statement) and title search to ensure there are no debts, caveats, or legal impediments that put your purchase at risk.</p></div>
                </div>
                <div class="faq-card" onclick="engine.toggleFaq(this)">
                    <button class="faq-header">Can I buy a property from interstate? <div class="faq-icon"><i class="ph ph-caret-down"></i></div></button>
                    <div class="faq-body"><p>Yes. With digital signatures and electronic settlement processes (PEXA), it is now possible to carry out the entire real estate transaction remotely with total legal security.</p></div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-main">
                <div class="footer-col">
                    <a href="#" class="footer-logo">Liam<span>Thompson</span></a>
                    <p style="color: rgba(255,255,255,0.4); font-size: 14px; max-width: 300px;">Reference in real estate intelligence and high-end advisory in Melbourne and surrounds.</p>
                    <div class="social-row">
                        <a href="#" class="social-item" aria-label="Instagram"><i class="ph-fill ph-instagram-logo"></i></a>
                        <a href="#" class="social-item" aria-label="LinkedIn"><i class="ph-fill ph-linkedin-logo"></i></a>
                        <a href="#" class="social-item" aria-label="Facebook"><i class="ph-fill ph-facebook-logo"></i></a>
                    </div>
                </div>
                <div class="footer-col">
                    <h4>Navigation</h4>
                    <ul class="footer-links">
                        <li><a href="#imoveis">Properties</a></li>
                        <li><a href="#metodologia">How I Work</a></li>
                        <li><a href="#simulador">Mortgage</a></li>
                        <li><a href="#sobre">Professional Profile</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Services</h4>
                    <ul class="footer-links">
                        <li><a href="#">Technical Appraisal</a></li>
                        <li><a href="#">Sales Management</a></li>
                        <li><a href="#">Property Law</a></li>
                        <li><a href="#">Investments</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Contact Me</h4>
                    <p style="font-size: 14px; color: rgba(255,255,255,0.4);">101 Collins Street - VIC<br>Melbourne CBD, Level 42<br><br>(03) 9999-9999<br>contact@liamthompson.com.au</p>
                </div>
            </div>
            <div class="footer-bottom">
                <span>¬© 2026 Liam Thompson Real Estate. License 12345-F. All rights reserved.</span>
                <span>
        <a href="https://wa.me/5581983141124?text=Hello%20Dr.%20Victor!%20I%20saw%20the%20site%20you%20developed%20and%20I%20want%20an%20exclusive%20Landing%20Page%20to%20elevate%20my%20digital%20authority.%20Can%20we%20talk%3F" 
           target="_blank" 
           rel="noopener noreferrer" 
           style="color: inherit; text-decoration: none; transition: 0.3s;" 
           onmouseover="this.style.opacity='0.7'" 
           onmouseout="this.style.opacity='1'">
            Developed by Dr. Victor - Elevating your digital authority <i class="ph-bold ph-whatsapp-logo" style="font-size: 14px; vertical-align: middle;"></i>
        </a>
    </span>
            </div>
        </div>
    </footer>

    <script>
        // Enhanced Data Structure with Multiple Images
        // ========================================================================
        // GITHUB CONFIG - YOUR INFO
        // ========================================================================
        const GITHUB_CONFIG = {
            username: 'doctorvictorandrews-tech',  // ‚úÖ Your GitHub username
            repo: 'corretor',                        // ‚úÖ Your repository name
            branch: 'main'                           // ‚úÖ Main branch
        };
        
        // Array to be automatically populated from GitHub
        let PROPERTIES = [];
        
        // Function to load properties from GitHub
        async function loadPropertiesFromGitHub() {
            try {
                const urlRaw = `https://raw.githubusercontent.com/${GITHUB_CONFIG.username}/${GITHUB_CONFIG.repo}/${GITHUB_CONFIG.branch}/data/properties.json`;
                
                console.log('üîÑ Loading properties from GitHub...');
                
                let response = await fetch(urlRaw);
                
                if (!response.ok && response.status === 404) {
                    console.log('‚ö†Ô∏è Trying alternative route...');
                    const urlPages = `https://${GITHUB_CONFIG.username}.github.io/${GITHUB_CONFIG.repo}/data/properties.json`;
                    response = await fetch(urlPages);
                }
                
                if (response.ok) {
                    PROPERTIES = await response.json();
                    console.log(`‚úÖ ${PROPERTIES.length} properties loaded successfully!`);
                    
                    if (typeof engine !== 'undefined' && engine.filter) {
                        engine.filter();
                    }
                    
                    return true;
                } else if (response.status === 404) {
                    console.warn('‚ö†Ô∏è properties.json not found. Using demo data.');
                    PROPERTIES = getDemoProperties();
                    return false;
                } else {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
            } catch (error) {
                console.error('‚ùå Error loading properties:', error);
                console.log('üìù Using demo properties...');
                PROPERTIES = getDemoProperties();
                return false;
            }
        }
        
        // Demo properties (Australian Context)
        function getDemoProperties() {
            return [
                { 
                    id: 1, 
                    title: "Garden Apartment - South Yarra", 
                    loc: "South Yarra, VIC", 
                    type: "Apartamento", 
                    intent: "venda", 
                    price: 780000, 
                    beds: 2, 
                    baths: 2, 
                    area: 95, 
                    images: [
                        "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?q=80&w=800",
                        "https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?q=80&w=800",
                        "https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=800"
                    ],
                    condo: 550, 
                    status: "Featured",
                    category: "destaque"
                },
                { 
                    id: 2, 
                    title: "Toorak Residence - Green View", 
                    loc: "Toorak, VIC", 
                    type: "Casa", 
                    intent: "venda", 
                    price: 2450000, 
                    beds: 4, 
                    baths: 5, 
                    area: 380, 
                    images: [
                        "../imovel2.jpg", // Using ../ for local files
                        "https://images.unsplash.com/photo-1568605114967-8130f3a36994?q=80&w=800"
                    ],
                    condo: 1200, 
                    status: "Exclusive",
                    category: "luxo"
                },
                { 
                    id: 3, 
                    title: "Industrial Loft Richmond", 
                    loc: "Richmond, VIC", 
                    type: "Apartamento", 
                    intent: "aluguel", 
                    price: 5500, // Monthly
                    beds: 1, 
                    baths: 1, 
                    area: 65, 
                    images: [
                        "https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?q=80&w=800"
                    ],
                    condo: 450, 
                    status: "Furnished",
                    category: "novo"
                },
                { 
                    id: 4, 
                    title: "Duplex Penthouse Brighton", 
                    loc: "Brighton, VIC", 
                    type: "Apartamento", 
                    intent: "venda", 
                    price: 4200000, 
                    beds: 4, 
                    baths: 6, 
                    area: 320, 
                    images: [
                        "https://images.unsplash.com/photo-1512917774080-9991f1c4c750?q=80&w=800",
                        "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?q=80&w=800"
                    ],
                    condo: 2100, 
                    status: "Unique",
                    category: "luxo"
                },
                { 
                    id: 5, 
                    title: "Design Studio Docklands", 
                    loc: "Docklands, VIC", 
                    type: "Apartamento", 
                    intent: "aluguel", 
                    price: 3200, 
                    beds: 1, 
                    baths: 1, 
                    area: 42, 
                    images: [
                        "../imovel5.jpg" // Using ../ for local files
                    ],
                    condo: 320, 
                    status: "New",
                    category: "novo"
                },
                { 
                    id: 6, 
                    title: "Traditional Terrace House", 
                    loc: "Fitzroy, VIC", 
                    type: "Casa", 
                    intent: "venda", 
                    price: 1100000, 
                    beds: 3, 
                    baths: 3, 
                    area: 160, 
                    images: [
                        "https://images.unsplash.com/photo-1568605114967-8130f3a36994?q=80&w=800"
                    ],
                    condo: 0, 
                    status: "Renovated",
                    category: "destaque"
                }
            ];
        }

        // Main Engine - Enhanced Version
        const engine = {
            intent: 'venda',
            results: [],
            favorites: [],
            compareList: [],
            currentGallery: [],
            currentImageIndex: 0,
            currentQuickFilter: 'todos',
            
            init() {
                this.loadFavorites();
                this.bindEvents();
                this.filter();
                this.scrollObserve();
                this.simulate();
                this.initScrollButton();
            },
            
            bindEvents() {
                // Scroll effects
                window.addEventListener('scroll', () => {
                    document.getElementById('navbar').classList.toggle('scrolled', window.scrollY > 50);
                });
                
                // Search tabs
                document.querySelectorAll('.search-tab').forEach(tab => {
                    tab.addEventListener('click', () => {
                        document.querySelectorAll('.search-tab').forEach(t => t.classList.remove('active'));
                        tab.classList.add('active');
                        this.intent = tab.dataset.intent;
                        this.filter();
                        this.trackEvent('search_tab_change', { intent: this.intent });
                    });
                });
                
                // Close modals on ESC
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') {
                        this.closeGallery();
                        this.closeContactModal();
                    }
                });
            },
            
            // Advanced Filters Toggle
            toggleAdvancedFilters() {
                const filters = document.getElementById('advanced-filters');
                const text = document.getElementById('filter-toggle-text');
                filters.classList.toggle('active');
                text.textContent = filters.classList.contains('active') ? 'Hide Filters' : 'Advanced Filters';
            },
            
            // Enhanced Filter with Price Range
            filter() {
                const loc = document.getElementById('loc-input').value.toLowerCase();
                const type = document.getElementById('type-input').value;
                const beds = parseInt(document.getElementById('beds-input').value);
                const minPrice = parseFloat(document.getElementById('price-min')?.value) || 0;
                const maxPrice = parseFloat(document.getElementById('price-max')?.value) || Infinity;
                
                this.results = PROPERTIES.filter(p => {
                    const matchesIntent = p.intent === this.intent;
                    const matchesLocation = p.loc.toLowerCase().includes(loc) || p.title.toLowerCase().includes(loc);
                    const matchesType = type === 'todos' || p.type === type;
                    const matchesBeds = p.beds >= beds;
                    const matchesPrice = p.price >= minPrice && p.price <= maxPrice;
                    const matchesQuickFilter = this.currentQuickFilter === 'todos' || p.category === this.currentQuickFilter;
                    
                    return matchesIntent && matchesLocation && matchesType && matchesBeds && matchesPrice && matchesQuickFilter;
                });
                
                this.sort();
                this.trackEvent('properties_filtered', { count: this.results.length });
            },
            
            // Quick Filter
            quickFilter(category) {
                this.currentQuickFilter = category;
                
                // Update button states
                document.querySelectorAll('.quick-filter-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                event.target.classList.add('active');
                
                this.filter();
            },
            
            // Sort
            sort() {
                const c = document.getElementById('sort-input').value;
                if (c === 'menor') this.results.sort((a,b) => a.price - b.price);
                if (c === 'maior') this.results.sort((a,b) => b.price - a.price);
                this.render();
            },
            
            // Render Properties
            render() {
                const list = document.getElementById('properties-list');
                list.innerHTML = '';
                
                if (this.results.length === 0) {
                    list.innerHTML = '<p style="text-align: center; padding: 60px 0; color: var(--text-muted);">No properties found with these filters.</p>';
                    document.getElementById('counter').innerText = '0 properties found';
                    return;
                }
                
                this.results.forEach(p => {
                    // Changed to en-AU and AUD
                    const priceF = p.price.toLocaleString('en-AU', { style: 'currency', currency: 'AUD' });
                    const isFavorite = this.favorites.includes(p.id);
                    const isCompared = this.compareList.includes(p.id);
                    
                    list.innerHTML += `
                        <div class="portal-card">
                            <div class="portal-img-area" onclick="engine.openGallery(${p.id})">
                                <span class="portal-badge">${p.status}</span>
                                <button class="favorite-btn ${isFavorite ? 'active' : ''}" onclick="event.stopPropagation(); engine.toggleFavorite(${p.id})">
                                    <i class="ph-fill ph-heart"></i>
                                </button>
                                <div class="compare-checkbox">
                                    <label>
                                        <input type="checkbox" ${isCompared ? 'checked' : ''} onclick="event.stopPropagation(); engine.toggleCompare(${p.id})" id="compare-${p.id}">
                                        <span>Compare</span>
                                    </label>
                                </div>
                                <img src="${p.images[0]}" alt="${p.title}" loading="lazy">
                            </div>
                            <div class="portal-info">
                                <div>
                                    <div class="portal-address"><i class="ph-fill ph-map-pin"></i> ${p.loc}</div>
                                    <h3 class="portal-title">${p.title}</h3>
                                    <div class="portal-stats">
                                        <div class="stat-item"><i class="ph ph-ruler"></i> ${p.area}m¬≤</div>
                                        <div class="stat-item"><i class="ph ph-bed"></i> ${p.beds} Beds</div>
                                        <div class="stat-item"><i class="ph ph-shower"></i> ${p.baths} Baths</div>
                                    </div>
                                </div>
                                <div class="portal-footer">
                                    <div>
                                        <span class="price-label">${priceF}${this.intent === 'aluguel' ? '/mo' : ''}</span><br>
                                        <span class="condo-label" style="font-size:12px; color:#64748B;">Fees: $ ${p.condo}</span>
                                    </div>
                                    <button class="btn btn-outline" style="padding:12px 30px; font-size: 13px;" onclick="engine.openContactModal('${p.title}')">View Details</button>
                                </div>
                            </div>
                        </div>`;
                });
                
                document.getElementById('counter').innerText = `${this.results.length} opportunities found`;
                this.updateCompareBar();
            },
            
            // Favorites Management
            toggleFavorite(id) {
                const index = this.favorites.indexOf(id);
                if (index > -1) {
                    this.favorites.splice(index, 1);
                    this.showToast('Removed from favorites');
                } else {
                    this.favorites.push(id);
                    this.showToast('Added to favorites', 'success');
                }
                this.saveFavorites();
                this.render();
                this.trackEvent('favorite_toggled', { propertyId: id, action: index > -1 ? 'removed' : 'added' });
            },
            
            loadFavorites() {
                const saved = localStorage.getItem('bruno_favorites');
                this.favorites = saved ? JSON.parse(saved) : [];
            },
            
            saveFavorites() {
                localStorage.setItem('bruno_favorites', JSON.stringify(this.favorites));
            },
            
            // Compare Management
            toggleCompare(id) {
                const index = this.compareList.indexOf(id);
                if (index > -1) {
                    this.compareList.splice(index, 1);
                } else {
                    if (this.compareList.length >= 3) {
                        this.showToast('You can compare max 3 properties');
                        document.getElementById(`compare-${id}`).checked = false;
                        return;
                    }
                    this.compareList.push(id);
                }
                this.updateCompareBar();
                this.trackEvent('compare_toggled', { propertyId: id });
            },
            
            updateCompareBar() {
                const bar = document.getElementById('compare-bar');
                const count = document.getElementById('compare-count');
                count.textContent = this.compareList.length;
                
                if (this.compareList.length > 0) {
                    bar.classList.add('active');
                } else {
                    bar.classList.remove('active');
                }
            },
            
            compareProperties() {
                if (this.compareList.length < 2) {
                    this.showToast('Select at least 2 properties to compare');
                    return;
                }
                
                // In a real implementation, this would open a comparison modal
                const properties = this.compareList.map(id => PROPERTIES.find(p => p.id === id));
                console.log('Comparing properties:', properties);
                this.showToast('Comparison feature in development', 'success');
                this.trackEvent('properties_compared', { ids: this.compareList });
            },
            
            clearCompare() {
                this.compareList = [];
                this.updateCompareBar();
                this.render();
            },
            
            // Gallery Management
            openGallery(id) {
                const property = PROPERTIES.find(p => p.id === id);
                if (!property) return;
                
                this.currentGallery = property.images;
                this.currentImageIndex = 0;
                
                const modal = document.getElementById('gallery-modal');
                const img = document.getElementById('modal-image');
                const thumbs = document.getElementById('modal-thumbnails');
                
                img.src = this.currentGallery[0];
                
                // Create thumbnails
                thumbs.innerHTML = '';
                this.currentGallery.forEach((imgSrc, i) => {
                    const thumb = document.createElement('img');
                    thumb.src = imgSrc;
                    thumb.className = `modal-thumb ${i === 0 ? 'active' : ''}`;
                    thumb.onclick = () => this.jumpToImage(i);
                    thumbs.appendChild(thumb);
                });
                
                modal.classList.add('active');
                this.trackEvent('gallery_opened', { propertyId: id });
            },
            
            closeGallery() {
                document.getElementById('gallery-modal').classList.remove('active');
            },
            
            nextImage() {
                this.currentImageIndex = (this.currentImageIndex + 1) % this.currentGallery.length;
                this.updateGalleryImage();
            },
            
            prevImage() {
                this.currentImageIndex = (this.currentImageIndex - 1 + this.currentGallery.length) % this.currentGallery.length;
                this.updateGalleryImage();
            },
            
            jumpToImage(index) {
                this.currentImageIndex = index;
                this.updateGalleryImage();
            },
            
            updateGalleryImage() {
                const img = document.getElementById('modal-image');
                img.src = this.currentGallery[this.currentImageIndex];
                
                // Update thumbnails
                document.querySelectorAll('.modal-thumb').forEach((thumb, i) => {
                    thumb.classList.toggle('active', i === this.currentImageIndex);
                });
            },
            
            // Contact Modal
            openContactModal(propertyTitle = '') {
                const modal = document.getElementById('contact-modal');
                const input = document.getElementById('property-interest');
                if (input) input.value = propertyTitle;
                modal.classList.add('active');
                this.trackEvent('contact_modal_opened', { property: propertyTitle });
            },
            
            closeContactModal() {
                document.getElementById('contact-modal').classList.remove('active');
            },
            
            submitContact(event) {
                event.preventDefault();
                
                // In real implementation, send data to backend
                this.showToast('Message sent successfully! We will return shortly.', 'success');
                this.closeContactModal();
                event.target.reset();
                
                this.trackEvent('contact_form_submitted');
                
                // Redirect to WhatsApp with message (Australian number)
                setTimeout(() => {
                    window.open('https://wa.me/61499999999?text=Hello! I sent a message via the website.', '_blank');
                }, 1000);
            },
            
            // Simulator
            simulate() {
                const total = parseFloat(document.getElementById('sim-val').value) || 0;
                const ent = parseFloat(document.getElementById('sim-ent').value) || 0;
                const saldo = total - ent;
                const taxa = 0.008, p = 360;
                const val = (saldo > 0) ? (saldo * taxa) / (1 - Math.pow(1 + taxa, -p)) : 0;
                // Changed to AUD
                document.getElementById('sim-res').innerText = val.toLocaleString('en-AU', { style: 'currency', currency: 'AUD' });
            },
            
            // FAQ
            toggleFaq(card) {
                const wasActive = card.classList.contains('active');
                
                // Close all
                document.querySelectorAll('.faq-card').forEach(c => c.classList.remove('active'));
                
                // Open clicked if it wasn't active
                if (!wasActive) {
                    card.classList.add('active');
                }
            },
            
            // Scroll Observer
            scrollObserve() {
                const obs = new IntersectionObserver((entries) => {
                    entries.forEach(e => { 
                        if(e.isIntersecting) e.target.classList.add('active'); 
                    });
                }, { threshold: 0.1 });
                
                document.querySelectorAll('.reveal').forEach(el => obs.observe(el));
            },
            
            // Scroll to Top
            initScrollButton() {
                window.addEventListener('scroll', () => {
                    const btn = document.querySelector('.scroll-top');
                    btn.classList.toggle('visible', window.scrollY > 500);
                });
            },
            
            scrollToTop() {
                window.scrollTo({ top: 0, behavior: 'smooth' });
                this.trackEvent('scroll_to_top');
            },
            
            // Toast Notifications
            showToast(message, type = 'default') {
                const toast = document.getElementById('toast');
                const messageEl = document.getElementById('toast-message');
                
                messageEl.textContent = message;
                toast.className = `toast ${type} show`;
                
                setTimeout(() => {
                    toast.classList.remove('show');
                }, 3000);
            },
            
            // Analytics (Ready for implementation)
            trackEvent(eventName, data = {}) {
                console.log('Track Event:', eventName, data);
                // Implement Google Analytics, Meta Pixel, etc.
                // gtag('event', eventName, data);
            }
        };

        // Toggle Mobile Menu
        function toggleMenu() { 
            document.querySelector('.nav-links').classList.toggle('active'); 
        }

        // Initialize on Load
        window.onload = async () => {
            // Load properties from GitHub first
            await loadPropertiesFromGitHub();
            
            // Initialize engine
            engine.init();
            console.log('üöÄ Enhanced Portal v12 loaded successfully');
            console.log(`üìä ${PROPERTIES.length} properties available`);
        };
        
        // Auto-refresh properties every 5 minutes (optional)
        setInterval(async () => {
            console.log('üîÑ Updating properties...');
            await loadPropertiesFromGitHub();
        }, 5 * 60 * 1000);
        
        // Service Worker for PWA (Optional)
        if ('serviceWorker' in navigator) {
            // navigator.serviceWorker.register('/sw.js');
        }
    </script>
</body>
</html>
